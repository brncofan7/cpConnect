<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title>Beliefs</title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="1187.39">
  <style type="text/css">
    p.p1 {margin: 2.0px 2.0px 2.0px 2.0px; font: 12.0px Helvetica}
    
    
    *
    {
        margin:1;
        padding:1;
    }
  html,body
  {
      margin:0;
      padding:0;
      font-family:Helvetica;
      font-size:14px;
      /*background:#E0CEA4;*/
      color:#222;
      width:100%;
      height:100%;
  }
  #wrapper
  {
      width:100%;
      height:100%;
      overflow:hidden;
      position:relative;
  }
  .pageHeader
  {
      width:100%;
      line-height:40px;
      padding-top:2px;
      color: #fff;
      display: block;
      overflow:hidden;
      font-size: 16px;
      font-weight: bold;
      text-align: center;
      margin-bottom:0px;
      border-bottom:1px solid #999999;
      background-color:#354F6E;
      background: -webkit-gradient(linear, 50% 0%, 50% 100%, color-stop(0%, #8a8a8a), color-stop(2%, #6a6a6a), color-stop(100%, #151515));
  }
  /* for iScroll */
  .contentWrapper
  {
      width:100%;
      text-align:center;
      position:absolute;
      overflow:hidden;
      top:45px;
      bottom:10px;
      left:0;
      z-index:1;
  }
  .scroller {
      position:absolute;
      -webkit-tap-highlight-color:rgba(0,0,0,0);
      /*padding:0;*/
      width:100%;
      padding:5px;
      color: #000;
      display: block;
      overflow:hidden;
      font-size: 16px;
      font-weight: bold;
      line-height:20px;
  }
  .content
  {
      overflow:hidden;
      padding:20px 10px 20px 15px; /* important for giving padding*/
  }
  #modalWindowContentWrapper
  {
      min-width:100%;
      text-align:center;
      position:absolute;
      overflow:hidden;
      top:46px;
      bottom:10px;
      left:0;
      z-index:1;
  }
  
  .greenBtn
  {
      -webkit-border-radius:6px;
      text-align:center;
      color:#fff;
      font-size:14px;
      width:150px;
      margin:10px auto;
      padding:8px;
      background: -webkit-gradient(linear, 50% 0%, 50% 100%, color-stop(0%, #8a8a8a), color-stop(2%, #9fff40), color-stop(100%, #4a9500));
      background-image: -webkit-linear-gradient(#8a8a8a,#9fff40 2%,#547503);
      -webkit-tap-highlight-color:rgba(0,0,0,0);
      border: 1px solid #263501;
      border-top-color: #374E02;
      /*-webkit-box-shadow: inset 0px 0px 6px #555;   */
  }
  .redBtn
  {
      /*#178dcd*/
      -webkit-border-radius:4px;
      padding:3px;
      text-align:center;
      color:#fff;
      font-size:14px;
      font-weight:bold;
      /*background: -webkit-gradient(linear, 50% 0%, 50% 100%, color-stop(0%, #F2594B), color-stop(2%, #F2594B), color-stop(100%, #BF0426));*/
      background: -webkit-gradient(linear, 50% 0%, 50% 100%, color-stop(0%, #178dcd), color-stop(2%, #178dcd), color-stop(100%, #178dcd));
      -webkit-tap-highlight-color:rgba(0,0,0,0);
      /*border: 1px solid #aa0000;
      border-top-color: #bf0000;*/
      border: 1px solid #000000;
      border-top-color: #000000;
      -webkit-box-shadow: 1px 1px 6px #666666;
  }
  .okBtn
  {
      width:80px;
      padding:0px;
      margin:2px auto;
      /*position:absolute;
       left:30%;
       bottom:10px; */
  }
  
  /* modal window*/
  .modalOverlay
  {
      width:100%;
      height:100%;
      /*position:absolute;*/
      position:fixed;
      top:0;
      left:0;
      margin:0;
      padding:0;
      background:#000;
      opacity:0;
      -webkit-transition: opacity 0.3s ease-in;
      z-index:101;
  }
  .modalWindow
  {
      position:fixed;
      /*top:150px;	        */
      margin:0;
      border:2px solid #151515;
      /*width:400px;
       height:300px;	        done in script now*/
      text-align:center;
      word-spacing:2px;
      line-height:15px;
      font-weight:bold;
      font-size:13px;
      color:#2B3A42;
      /*padding:10px;*/
      opacity:0;
      z-index:102;
      background: -webkit-gradient(linear, 50% 0%, 50% 100%, color-stop(0%, #EFEFEF), color-stop(2%, #EFEFEF), color-stop(100%, #DCEBDD));
      -webkit-border-radius:2px;
      -webkit-box-shadow:-1px 2px 12px rgba(0, 0, 0, 0.91);
      -webkit-transition: opacity 0.2s ease-in;
  }
  .modalWindowHeader
  {
      width:100%;
      /*line-height:45px;*/
      line-height:30px;
      /*height:62px;*/
      padding-top:1px;
      color: #fff;
      display: block;
      overflow:hidden;
      font-size: 16px;
      font-weight: bold;
      text-align: center;
      margin-bottom:0px;
      background: -webkit-gradient(linear, 50% 0%, 50% 100%, color-stop(0%, #8a8a8a), color-stop(2%, #6a6a6a), color-stop(100%, #151515));
  }
  .modalWindowContent
  {       
      padding:5px;
      color: #000;
      display: block;
      overflow:hidden;
      font-size: 16px;
      font-weight: bold;            
      line-height:20px;                                          
  }
  </style>
</head>
<body>
    <div id="post-38" class="post-38 page type-page status-publish hentry instock">
        <!--<div class="big-title">-->
            <!--<h1 align="center"><strong>Beliefs</strong></h1>-->
            <h2 align="center"><strong>Statement of Faith</strong></h2>
        <!--</div>-->
        <p style="padding:10px;"><strong>* We believe the Bible to be the inspired Word of God.</strong></p>
        <ul>
            <li><input type="button" class="redBtn" id="popUpBtn1" value="II Timothy 3:16" /></li>
        </ul>
        <p style="padding:10px;"><strong>* We believe in the One True God who is revealed as Father, Son, and Holy Spirit.</strong></p>
        <ul>
            <li><input type="button" class="redBtn" id="popUpBtn2" value="John 14:18-27" /></li>
            <li><input type="button" class="redBtn" id="popUpBtn3" value="II Corinthians 13:14" /></li>
        </ul>
        <p style="padding:10px;"><strong>* We believe in the Virgin Birth, the Begotten Sonship, and Deity of Jesus Christ. We believe that He was God and man.</strong></p>
        <ul>
            <li><input type="button" class="redBtn" id="popUpBtn4" value="I Timothy 3:16" /></li>
            <li><input type="button" class="redBtn" id="popUpBtn5" value="Matthew 1:23" /></li>
        </ul>
        <p style="padding:10px;"><strong>* We believe in the salvation of sinners by grace through repentance and faith.</strong></p>
        <ul>
            <li><input type="button" class="redBtn" id="popUpBtn6" value="Ephesians 2:8-9" /></li>
            <li><input type="button" class="redBtn" id="popUpBtn7" value="Hebrews 9:12-22" /></li>
            <li><input type="button" class="redBtn" id="popUpBtn8" value="Romans 5:11" /></li>
        </ul>
        <p style="padding:10px;"><strong>* We believe in water baptism as an outward expression of one’s inner faith &#8211; that it’s God’s plan for every believer to be baptized in water.</strong></p>
        <ul>
            <li><input type="button" class="redBtn" id="popUpBtn9" value="Matthew 28:19" /></li>
            <li><input type="button" class="redBtn" id="popUpBtn10" value="Acts 2:38" /></li>
            <li><input type="button" class="redBtn" id="popUpBtn11" value="Acts 10:47-48" /></li>
        </ul>
        <p style="padding:10px;"><strong>* We believe that it is the will of God that each believer be filled with the Holy Spirit and receive a prayer language of speaking in tongues.</strong></p>
        <ul>
            <li><input type="button" class="redBtn" id="popUpBtn12" value="Acts 1:8" /></li>
            <li><input type="button" class="redBtn" id="popUpBtn13" value="Acts 19:1-6" /></li>
        </ul>
        <p style="padding:10px;"><strong>* We believe that every believer is given power to live a victorious, overcoming life.</strong></p>
        <ul>
            <li><input type="button" class="redBtn" id="popUpBtn14" value="I John 5:4" /></li>
        </ul>
        <p style="padding:10px;"><strong>* We believe in the operation of the gifts of the Spirit individually and corporately.</strong></p>
        <ul>
            <li><input type="button" class="redBtn" id="popUpBtn15" value="I Corinthians 12:14" /></li>
        </ul>
        <p style="padding:10px;"><strong>* We believe that divine healing through the redemptive work of Christ is available for every believer.</strong></p>
        <ul>
            <li><input type="button" class="redBtn" id="popUpBtn16" value="James 5:14" /></li>
            <li><input type="button" class="redBtn" id="popUpBtn17" value="I Peter 2:24" /></li>
        </ul>
        <p style="padding:10px;"><strong>* We believe in the table of the Lord, commonly called communion or the Lord’s Supper, for believers.</strong></p>
        <ul>
            <li><input type="button" class="redBtn" id="popUpBtn18" value="I Corinthians 11:28-32" /></li>
        </ul>
        <p style="padding:10px;"><strong>* We believe in eternal life for believers.</strong></p>
        <ul>
            <li><input type="button" class="redBtn" id="popUpBtn19" value="Mark 9:43-50" /></li>
            <li><input type="button" class="redBtn" id="popUpBtn20" value="II Thessalonians 1:9" /></li>
            <li><input type="button" class="redBtn" id="popUpBtn21" value="Revelation 20:10-15" /></li>
        </ul>
    </div>
    <script type="text/javascript">
        //create the instances
        var overlayElement = null;
        var modalWindowElement = null;
        
        //detect touch and then automatically assign events
        var isTouchSupported = 'ontouchstart' in window.document;
        var startEvent = isTouchSupported ? 'touchstart' : 'mousedown';
        var moveEvent = isTouchSupported ? 'touchmove' : 'mousemove';
        var endEvent = isTouchSupported ? 'touchend' : 'mouseup';
        
        //when window loads
        window.addEventListener('load', initialize, false);
        function initialize() {
            setTimeout(function() { window.scrollTo(0, 1); }, 10); //to hide the address bar
            document.getElementById("popUpBtn1").addEventListener(endEvent,openPopUp1,false);
            document.getElementById("popUpBtn2").addEventListener(endEvent,openPopUp2,false);
            document.getElementById("popUpBtn3").addEventListener(endEvent,openPopUp3,false);
            document.getElementById("popUpBtn4").addEventListener(endEvent,openPopUp4,false);
            document.getElementById("popUpBtn5").addEventListener(endEvent,openPopUp5,false);
            document.getElementById("popUpBtn6").addEventListener(endEvent,openPopUp6,false);
            document.getElementById("popUpBtn7").addEventListener(endEvent,openPopUp7,false);
            document.getElementById("popUpBtn8").addEventListener(endEvent,openPopUp8,false);
            document.getElementById("popUpBtn9").addEventListener(endEvent,openPopUp9,false);
            document.getElementById("popUpBtn10").addEventListener(endEvent,openPopUp10,false);
            document.getElementById("popUpBtn11").addEventListener(endEvent,openPopUp11,false);
            document.getElementById("popUpBtn12").addEventListener(endEvent,openPopUp12,false);
            document.getElementById("popUpBtn13").addEventListener(endEvent,openPopUp13,false);
            document.getElementById("popUpBtn14").addEventListener(endEvent,openPopUp14,false);
            document.getElementById("popUpBtn15").addEventListener(endEvent,openPopUp15,false);
            document.getElementById("popUpBtn16").addEventListener(endEvent,openPopUp16,false);
            document.getElementById("popUpBtn17").addEventListener(endEvent,openPopUp17,false);
            document.getElementById("popUpBtn18").addEventListener(endEvent,openPopUp18,false);
            document.getElementById("popUpBtn19").addEventListener(endEvent,openPopUp19,false);
            document.getElementById("popUpBtn20").addEventListener(endEvent,openPopUp20,false);
            document.getElementById("popUpBtn21").addEventListener(endEvent,openPopUp21,false);
        }
    
        function openPopUp1()
        {
            showPopUpMessage(createPopUpHeader("II Timothy 3:16"),createPopUpContent("All Scripture is given by inspiration of God, and is profitable for doctrine, for reproof, for correction, for instruction in righteousness"),300,300);
        }
    
        function openPopUp2()
        {
            var message2 = "'No, I will not abandon you as orphans—I will come to you. Soon the world will no longer see me, but you will see me. Since I live, you also will live. When I am raised to life again, you will know that I am in my Father, and you are in me, and I am in you. Those who accept my commandments and obey them are the ones who love me. And because they love me, my Father will love them. And I will love them and reveal myself to each of them.' Judas (not Judas Iscariot, but the other disciple with that name) said to him, 'Lord, why are you going to reveal yourself only to us and not to the world at large?' Jesus replied, 'All who love me will do what I say. My Father will love them, and we will come and make our home with each of them. Anyone who doesn’t love me will not obey me. And remember, my words are not my own. What I am telling you is from the Father who sent me. I am telling you these things now while I am still with you. But when the Father sends the Advocate as my representative—that is, the Holy Spirit—he will teach you everything and will remind you of everything I have told you. 'I am leaving you with a gift—peace of mind and heart. And the peace I give is a gift the world cannot give. So don’t be troubled or afraid.'";
            showPopUpMessage(createPopUpHeader("John 14:18-27"),createPopUpContentScroll(message2),300,400);
            //create the iScroll object for popUp3 . Pop Up 3 has scrolling content
            myScroll1 = new iScroll('modalWindowContentWrapper', { hScrollbar: false,  hScroll:false, hideScrollbar:true, fadeScrollbar:true});
        }
    
        function openPopUp3()
        {
            showPopUpMessage(createPopUpHeader("II Corinthians 13:14"),createPopUpContent("The grace of the Lord Jesus Christ, and the love of God, and the communion of the Holy Spirit be with you all. Amen."),300,300);
        }
    
        function openPopUp4()
        {
            showPopUpMessage(createPopUpHeader("I Timothy 3:16"),createPopUpContent("And without controversy great is the mystery of godliness; God was manifested in the flesh, Justified in the Spirit, Seen by angels, Preached among the Gentiles, Believed on in the world, Received up in glory."),300,300);
        }
    
        function openPopUp5()
        {
            showPopUpMessage(createPopUpHeader("Matthew 1:23"),createPopUpContent("'Behold, the virgin shall be with child, and bear a Son, and they shall call His name Immanuel,' which is translated, 'God with us.'"),300,300);
        }
    
        function openPopUp6()
        {
            showPopUpMessage(createPopUpHeader("Ephesians 2:8-9"),createPopUpContent("For by grace you have been saved through faith, and that not of yourselves; it is the gift of God, not of works, lest anyone should boast."),300,300);
        }
    
        function openPopUp7()
        {
            message7 = "Not with the blood of goats and calves, but with His own blood He entered the Most Holy Place once for all, having obtained eternal redemption. For if the blood of bulls and goats and the ashes of a heifer, sprinkling the unclean, sanctifies for the purifying of the flesh, how much more shall the blood of Christ, who through the eternal Spirit offered Himself without spot to God, cleanse your conscience from dead works to serve the living God? And for this reason He is the Mediator of the new covenant, by means of death, for the redemption of the transgressions under the first covenant, that those who are called may receive the promise of the eternal inheritance. For where there is a testament, there must also of necessity be the death of the testator. For a testament is in force after men are dead, since it has no power at all while the testator lives. Therefore not even the first covenant was dedicated without blood. For when Moses had spoken every precept to all the people according to the law, he took the blood of calves and goats, with water, scarlet wool, and hyssop, and sprinkled both the book itself and all the people, saying, 'This is the blood of the covenant which God has commanded you.' Then likewise he sprinkled with blood both the tabernacle and all the vessels of the ministry. And according to the law almost all things are purified with blood, and without shedding of blood there is no remission.";
            showPopUpMessage(createPopUpHeader("Hebrews 9:12-22"),createPopUpContentScroll(message7),300,400);
            myScroll1 = new iScroll('modalWindowContentWrapper', { hScrollbar: false,  hScroll:false, hideScrollbar:true, fadeScrollbar:true});
        }
    
        function openPopUp8()
        {
            showPopUpMessage(createPopUpHeader("Romans 5:11"),createPopUpContent("And not only that, but we also rejoice in God through our Lord Jesus Christ, through whom we have now received the reconciliation."),300,300);
        }
    
        function openPopUp9()
        {
            showPopUpMessage(createPopUpHeader("Matthew 28:19"),createPopUpContent("Go therefore and make disciples of all the nations, baptizing them in the name of the Father and of the Son and of the Holy Spirit"),300,300);
        }
    
        function openPopUp10()
        {
            showPopUpMessage(createPopUpHeader("Acts 2:38"),createPopUpContent("Then Peter said to them, 'Repent, and let every one of you be baptized in the name of Jesus Christ for the remission of sins; and you shall receive the gift of the Holy Spirit.'"),300,300);
        }
    
        function openPopUp11()
        {
            showPopUpMessage(createPopUpHeader("Acts 10:47-48"),createPopUpContent("'Can anyone forbid water, that these should not be baptized who have received the Holy Spirit just as we have?' And he commanded them to be baptized in the name of the Lord. Then they asked him to stay a few days."),300,300);
        }
    
        function openPopUp12()
        {
            showPopUpMessage(createPopUpHeader("Acts 1:8"),createPopUpContent("But you shall receive power when the Holy Spirit has come upon you; and you shall be witnesses to Me in Jerusalem, and in all Judea and Samaria, and to the end of the earth."),300,300);
        }
    
        function openPopUp13()
        {
            message13 = "And it happened, while Apollos was at Corinth, that Paul, having passed through the upper regions, came to Ephesus. And finding some disciples he said to them, 'Did you receive the Holy Spirit when you believed?' So they said to him, 'We have not so much as heard whether there is a Holy Spirit.' And he said to them, 'Into what then were you baptized?' So they said, 'Into John’s baptism.' Then Paul said, 'John indeed baptized with a baptism of repentance, saying to the people that they should believe on Him who would come after him, that is, on Christ Jesus.' When they heard this, they were baptized in the name of the Lord Jesus. And when Paul had laid hands on them, the Holy Spirit came upon them, and they spoke with tongues and prophesied.";
            showPopUpMessage(createPopUpHeader("Acts 19:1-6"),createPopUpContentScroll(message13),300,400);
            myScroll1 = new iScroll('modalWindowContentWrapper', { hScrollbar: false, hScroll:false, hideScrollbar: true, fadeScrollbar:true});
        }
    
        function openPopUp14()
        {
            showPopUpMessage(createPopUpHeader("I John 5:4"),createPopUpContent("For whatever is born of God overcomes the world. And this is the victory that has overcome the world—our faith."),300,300);
        }
    
        function openPopUp15()
        {
            showPopUpMessage(createPopUpHeader("I Corinthians 12:14"),createPopUpContent("For in fact the body is not one member but many."),300,300);
        }
    
        function openPopUp16()
        {
            showPopUpMessage(createPopUpHeader("James 5:14"),createPopUpContent("Is anyone among you sick? Let him call for the elders of the church, and let them pray over him, anointing him with oil in the name of the Lord."),300,300);
        }
    
        function openPopUp17()
        {
            showPopUpMessage(createPopUpHeader("I Peter 2:24"),createPopUpContent("Who Himself bore our sins in His own body on the tree, that we, having died to sins, might live for righteousness—by whose stripes you were healed."),300,300);
        }
    
        function openPopUp18()
        {
            message18 = "But let a man examine himself, and so let him eat of the bread and drink of the cup. For he who eats and drinks in an unworthy manner eats and drinks judgment to himself, not discerning the Lord’s body. For this reason many are weak and sick among you, and many sleep. For if we would judge ourselves, we would not be judged. But when we are judged, we are chastened by the Lord, that we may not be condemned with the world.";
            showPopUpMessage(createPopUpHeader("I Corinthians 11:28-32"),createPopUpContentScroll(message18),300,400);
            myScroll1 = new iScroll('modalWindowContentWrapper', { hScrollbar: false, hScroll:false, hideScrollbar: true, fadeScrollbar:true});
        }
    
        function openPopUp19()
        {
            message19 = "If your hand causes you to sin, cut it off. It is better for you to enter into life maimed, rather than having two hands, to go to hell, into the fire that shall never be quenched— where ‘<b>Their worm does not die and the fire is not quenched.</b>’ And if your foot causes you to sin, cut it off. It is better for you to enter life lame, rather than having two feet, to be cast into hell, into the fire that shall never be quenched—where ‘<b>Their worm does not die, and the fire is not quenched.</b>’ And if your eye causes you to sin, pluck it out. It is better for you to enter the kingdom of God with one eye, rather than having two eyes, to be cast into hell fire—‘<b>Their worm does not die and the fire is not quenched.</b>’ 'For everyone will be seasoned with fire, and every sacrifice will be seasoned with salt. Salt is good, but if the salt loses its flavor, how will you season it? Have salt in yourselves, and have peace with one another.'";
            showPopUpMessage(createPopUpHeader("Mark 9:43-50"),createPopUpContentScroll(message19),300,400);
            myScroll1 = new iScroll('modalWindowContentWrapper', { hScrollbar:false, hScroll:false, hideScrollbar:true, fadeScrollbar:true});
        }
    
        function openPopUp20()
        {
            showPopUpMessage(createPopUpHeader("II Thessalonians 1:9"),createPopUpContent("For they themselves declare concerning us what manner of entry we had to you, and how you turned to God from idols to serve the living and true God"),300,300);
        }
    
        function openPopUp21()
        {
            message21 = "The devil, who deceived them, was cast into the lake of fire and brimstone where the beast and the false prophet are. And they will be tormented day and night forever and ever. Then I saw a great white throne and Him who sat on it, from whose face the earth and the heaven fled away. And there was found no place for them. And I saw the dead,small and great, standing before God, and books were opened. And another book was opened, which is the Book of Life. And the dead were judged according to their works, by the things which were written in the books. The sea gave up the dead who were in it, and Death and Hades delivered up the dead who were in them. And they were judged, each one according to his works. Then Death and Hades were cast into the lake of fire. This is the second death. And anyone not found written in the Book of Life was cast into the lake of fire.";
            showPopUpMessage(createPopUpHeader("Revelations 20:10-15"),createPopUpContentScroll(message21),300,400);
            myScroll1 = new iScroll('modalWindowContentWrapper', { hScrollbar:false, hScroll:false, hideScrollbar:true, fadeScrollbar:true});
        }
    


    //when window is resized
    window.addEventListener("resize",handleResize,false); //resizing is useful only when popups are opened
    //re-position the modal pop up to the center of the page
    function handleResize()
    {
        if(modalWindowElement)
        {
            modalWindowElement.style.left = (window.innerWidth - modalWindowElement.offsetWidth) / 2 + "px";
            modalWindowElement.style.top = (window.innerHeight - modalWindowElement.offsetHeight) / 2 + "px";
        }
    }
    
    /* Common header for Pop Ups */
    function createPopUpHeader(title)
    {
        //return the header after creating
        
        //create header for modal window area
        modalWindowHeader = document.createElement("div");
        modalWindowHeader.className = "modalWindowHeader";
        modalWindowHeader.innerHTML = "<p>" + title + "</p>";
        
        return modalWindowHeader;
    }
    function createPopUpContent(msg)
    {
        //return the content after creating
        
        //create modal window content area
        modalWindowContent = document.createElement("div");
        modalWindowContent.className = "modalWindowContent";
        
        modalWindowContent.innerHTML = "<p style='text-align:center; margin-top:10px;'>" + msg + "</p>";
        //create the place order button
        okBtn = document.createElement("div");
        okBtn.className = "redBtn okBtn";
        okBtn.innerHTML = "<p>OK</p>";
        okBtn.addEventListener(endEvent,function(){ hidePopUpMessage(); },false);
        
        modalWindowContent.appendChild(okBtn);
        return modalWindowContent;
    }
    
    function createPopUpContentScroll(msg)
    {
        //return the content after creating
        
        //create modal window content area
        modalWindowContent = document.createElement("div");
        //modalWindowContent.className = "modalWindowContent";
        modalWindowContent.id = "modalWindowContentWrapper";
        
        modalWindowContentScroller = document.createElement("div");
        modalWindowContentScroller.className = "scroller";
        modalWindowContentScroller.id = "modalWindowContentScroller";
        
        contentAreaDiv = document.createElement("div");
        contentAreaDiv.style.cssText = "padding:10px 10px 10px 10px";
        
        contentAreaDiv.innerHTML = "<p style='text-align:left; line-height:18px;'>" + msg + "</p>";
        //create another button
        //testBtn = document.createElement("div");
        //testBtn.className = "greenBtn";
        //testBtn.innerHTML = "<p>TEST BUTTON</p>";
        //testBtn.addEventListener(endEvent,function(){ alert("Iam a test button inside popup 3"); },false);
        //create the OK button button
        okBtn = document.createElement("div");
        okBtn.className = "redBtn okBtn";
        okBtn.innerHTML = "<p>OK</p>";
        okBtn.addEventListener(endEvent,function(){
                               hidePopUpMessage();
                               //destroy the iScroll object for popUp 3 after it is hidden
                               if(myScroll1)
                               {
                               //remove the scroll instance;
                               myScroll1.destroy();
                               myScroll1 = null;
                               }
                               },false);
                               
                               //contentAreaDiv.appendChild(testBtn);
                               contentAreaDiv.appendChild(okBtn);
                               modalWindowContentScroller.appendChild(contentAreaDiv);
                               modalWindowContent.appendChild(modalWindowContentScroller);          
                               
                               return modalWindowContent;
    }
    
    //show the modal overlay and popup window
    function showPopUpMessage(modalWindowHeader,modalWindowContent,width,height) {
        overlayElement = document.createElement("div");
        overlayElement.className = 'modalOverlay';
        modalWindowElement = document.createElement("div");
        modalWindowElement.className = 'modalWindow';
        
        //position modal window element
        modalWindowElement.style.width = width + "px";
        modalWindowElement.style.height = height + "px";
        
        modalWindowElement.style.left = (window.innerWidth - width) / 2 + "px";
        modalWindowElement.style.top = (window.innerHeight - height) / 2 + "px";
        //add childs
        modalWindowElement.appendChild(modalWindowHeader);
        modalWindowElement.appendChild(modalWindowContent);
        document.body.appendChild(overlayElement);
        document.body.appendChild(modalWindowElement);
        setTimeout(function() {
                   modalWindowElement.style.opacity = 1;
                   overlayElement.style.opacity = 0.4;
                   overlayElement.addEventListener(endEvent, hidePopUpMessage, false);
                   }, 300);
    }
    //hide the modal overlay and popup window
    function hidePopUpMessage() {
        modalWindowElement.style.opacity = 0;
        overlayElement.style.opacity = 0;
        overlayElement.removeEventListener(endEvent, hidePopUpMessage, false);
        setTimeout(function() {
                   document.body.removeChild(overlayElement);
                   document.body.removeChild(modalWindowElement);
                   }, 400);         
    }
    
    
    /*!
     * iScroll v4.1.9 ~ Copyright (c) 2011 Matteo Spinelli, http://cubiq.org
     * Released under MIT license, http://cubiq.org/license
     */
    (function(){
     var m = Math,
     mround = function (r) { return r >> 0; },
     vendor = (/webkit/i).test(navigator.appVersion) ? 'webkit' :
     (/firefox/i).test(navigator.userAgent) ? 'Moz' :
     (/trident/i).test(navigator.userAgent) ? 'ms' :
     'opera' in window ? 'O' : '',
     
     // Browser capabilities
     isAndroid = (/android/gi).test(navigator.appVersion),
     isIDevice = (/iphone|ipad/gi).test(navigator.appVersion),
     isPlaybook = (/playbook/gi).test(navigator.appVersion),
     isTouchPad = (/hp-tablet/gi).test(navigator.appVersion),
     
     has3d = 'WebKitCSSMatrix' in window && 'm11' in new WebKitCSSMatrix(),
     hasTouch = 'ontouchstart' in window && !isTouchPad,
     hasTransform = vendor + 'Transform' in document.documentElement.style,
     hasTransitionEnd = isIDevice || isPlaybook,
     
     nextFrame = (function() {
                  return window.requestAnimationFrame
                  || window.webkitRequestAnimationFrame
                  || window.mozRequestAnimationFrame
                  || window.oRequestAnimationFrame
                  || window.msRequestAnimationFrame
                  || function(callback) { return setTimeout(callback, 1); }
                  })(),
     cancelFrame = (function () {
                    return window.cancelRequestAnimationFrame
                    || window.webkitCancelAnimationFrame
                    || window.webkitCancelRequestAnimationFrame
                    || window.mozCancelRequestAnimationFrame
                    || window.oCancelRequestAnimationFrame
                    || window.msCancelRequestAnimationFrame
                    || clearTimeout
                    })(),
     
     // Events
     RESIZE_EV = 'onorientationchange' in window ? 'orientationchange' : 'resize',
     START_EV = hasTouch ? 'touchstart' : 'mousedown',
     MOVE_EV = hasTouch ? 'touchmove' : 'mousemove',
     END_EV = hasTouch ? 'touchend' : 'mouseup',
     CANCEL_EV = hasTouch ? 'touchcancel' : 'mouseup',
     WHEEL_EV = vendor == 'Moz' ? 'DOMMouseScroll' : 'mousewheel',
     
     // Helpers
     trnOpen = 'translate' + (has3d ? '3d(' : '('),
     trnClose = has3d ? ',0)' : ')',
     
     // Constructor
     iScroll = function (el, options) {
     var that = this,
     doc = document,
     i;
     
     that.wrapper = typeof el == 'object' ? el : doc.getElementById(el);
     that.wrapper.style.overflow = 'hidden';
     that.scroller = that.wrapper.children[0];
     
     // Default options
     that.options = {
     hScroll: true,
     vScroll: true,
     x: 0,
     y: 0,
     bounce: true,
     bounceLock: false,
     momentum: true,
     lockDirection: true,
     useTransform: true,
     useTransition: false,
     topOffset: 0,
     checkDOMChanges: false,		// Experimental
     
     // Scrollbar
     hScrollbar: true,
     vScrollbar: true,
     fixedScrollbar: isAndroid,
     hideScrollbar: isIDevice,
     fadeScrollbar: isIDevice && has3d,
     scrollbarClass: '',
     
     // Zoom
     zoom: false,
     zoomMin: 1,
     zoomMax: 4,
     doubleTapZoom: 2,
     wheelAction: 'scroll',
     
     // Snap
     snap: false,
     snapThreshold: 1,
     
     // Events
     onRefresh: null,
     onBeforeScrollStart: function (e) { e.preventDefault(); },
     onScrollStart: null,
     onBeforeScrollMove: null,
     onScrollMove: null,
     onBeforeScrollEnd: null,
     onScrollEnd: null,
     onTouchEnd: null,
     onDestroy: null,
     onZoomStart: null,
     onZoom: null,
     onZoomEnd: null
     };
     
     // User defined options
     for (i in options) that.options[i] = options[i];
     
     // Set starting position
     that.x = that.options.x;
     that.y = that.options.y;
     
     // Normalize options
     that.options.useTransform = hasTransform ? that.options.useTransform : false;
     that.options.hScrollbar = that.options.hScroll && that.options.hScrollbar;
     that.options.vScrollbar = that.options.vScroll && that.options.vScrollbar;
     that.options.zoom = that.options.useTransform && that.options.zoom;
     that.options.useTransition = hasTransitionEnd && that.options.useTransition;
     
     // Helpers FIX ANDROID BUG!
     // translate3d and scale doesn't work together!
     // Ignoring 3d ONLY WHEN YOU SET that.options.zoom
     if ( that.options.zoom && isAndroid ){
     trnOpen = 'translate(';
     trnClose = ')';
     }
     
     // Set some default styles
     that.scroller.style[vendor + 'TransitionProperty'] = that.options.useTransform ? '-' + vendor.toLowerCase() + '-transform' : 'top left';
     that.scroller.style[vendor + 'TransitionDuration'] = '0';
     that.scroller.style[vendor + 'TransformOrigin'] = '0 0';
     if (that.options.useTransition) that.scroller.style[vendor + 'TransitionTimingFunction'] = 'cubic-bezier(0.33,0.66,0.66,1)';
     
     if (that.options.useTransform) that.scroller.style[vendor + 'Transform'] = trnOpen + that.x + 'px,' + that.y + 'px' + trnClose;
     else that.scroller.style.cssText += ';position:absolute;top:' + that.y + 'px;left:' + that.x + 'px';
     
     if (that.options.useTransition) that.options.fixedScrollbar = true;
     
     that.refresh();
     
     that._bind(RESIZE_EV, window);
     that._bind(START_EV);
     if (!hasTouch) {
     that._bind('mouseout', that.wrapper);
     if (that.options.wheelAction != 'none')
     that._bind(WHEEL_EV);
     }
     
     if (that.options.checkDOMChanges) that.checkDOMTime = setInterval(function () {
                                                                       that._checkDOMChanges();
                                                                       }, 500);
     };
     
     // Prototype
     iScroll.prototype = {
     enabled: true,
     x: 0,
     y: 0,
     steps: [],
     scale: 1,
     currPageX: 0, currPageY: 0,
     pagesX: [], pagesY: [],
     aniTime: null,
     wheelZoomCount: 0,
     
     handleEvent: function (e) {
     var that = this;
     switch(e.type) {
     case START_EV:
     if (!hasTouch && e.button !== 0) return;
     that._start(e);
     break;
     case MOVE_EV: that._move(e); break;
     case END_EV:
     case CANCEL_EV: that._end(e); break;
     case RESIZE_EV: that._resize(); break;
     case WHEEL_EV: that._wheel(e); break;
     case 'mouseout': that._mouseout(e); break;
     case 'webkitTransitionEnd': that._transitionEnd(e); break;
     }
     },
     
     _checkDOMChanges: function () {
     if (this.moved || this.zoomed || this.animating ||
         (this.scrollerW == this.scroller.offsetWidth * this.scale && this.scrollerH == this.scroller.offsetHeight * this.scale)) return;
     
     this.refresh();
     },
     
     _scrollbar: function (dir) {
     var that = this,
     doc = document,
     bar;
     
     if (!that[dir + 'Scrollbar']) {
     if (that[dir + 'ScrollbarWrapper']) {
     if (hasTransform) that[dir + 'ScrollbarIndicator'].style[vendor + 'Transform'] = '';
     that[dir + 'ScrollbarWrapper'].parentNode.removeChild(that[dir + 'ScrollbarWrapper']);
     that[dir + 'ScrollbarWrapper'] = null;
     that[dir + 'ScrollbarIndicator'] = null;
     }
     
     return;
     }
     
     if (!that[dir + 'ScrollbarWrapper']) {
     // Create the scrollbar wrapper
     bar = doc.createElement('div');
     
     if (that.options.scrollbarClass) bar.className = that.options.scrollbarClass + dir.toUpperCase();
     else bar.style.cssText = 'position:absolute;z-index:100;' + (dir == 'h' ? 'height:7px;bottom:1px;left:2px;right:' + (that.vScrollbar ? '7' : '2') + 'px' : 'width:7px;bottom:' + (that.hScrollbar ? '7' : '2') + 'px;top:2px;right:1px');
     
     bar.style.cssText += ';pointer-events:none;-' + vendor + '-transition-property:opacity;-' + vendor + '-transition-duration:' + (that.options.fadeScrollbar ? '350ms' : '0') + ';overflow:hidden;opacity:' + (that.options.hideScrollbar ? '0' : '1');
     
     that.wrapper.appendChild(bar);
     that[dir + 'ScrollbarWrapper'] = bar;
     
     // Create the scrollbar indicator
     bar = doc.createElement('div');
     if (!that.options.scrollbarClass) {
     bar.style.cssText = 'position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);-' + vendor + '-background-clip:padding-box;-' + vendor + '-box-sizing:border-box;' + (dir == 'h' ? 'height:100%' : 'width:100%') + ';-' + vendor + '-border-radius:3px;border-radius:3px';
     }
     bar.style.cssText += ';pointer-events:none;-' + vendor + '-transition-property:-' + vendor + '-transform;-' + vendor + '-transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);-' + vendor + '-transition-duration:0;-' + vendor + '-transform:' + trnOpen + '0,0' + trnClose;
     if (that.options.useTransition) bar.style.cssText += ';-' + vendor + '-transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)';
     
     that[dir + 'ScrollbarWrapper'].appendChild(bar);
     that[dir + 'ScrollbarIndicator'] = bar;
     }
     
     if (dir == 'h') {
     that.hScrollbarSize = that.hScrollbarWrapper.clientWidth;
     that.hScrollbarIndicatorSize = m.max(mround(that.hScrollbarSize * that.hScrollbarSize / that.scrollerW), 8);
     that.hScrollbarIndicator.style.width = that.hScrollbarIndicatorSize + 'px';
     that.hScrollbarMaxScroll = that.hScrollbarSize - that.hScrollbarIndicatorSize;
     that.hScrollbarProp = that.hScrollbarMaxScroll / that.maxScrollX;
     } else {
     that.vScrollbarSize = that.vScrollbarWrapper.clientHeight;
     that.vScrollbarIndicatorSize = m.max(mround(that.vScrollbarSize * that.vScrollbarSize / that.scrollerH), 8);
     that.vScrollbarIndicator.style.height = that.vScrollbarIndicatorSize + 'px';
     that.vScrollbarMaxScroll = that.vScrollbarSize - that.vScrollbarIndicatorSize;
     that.vScrollbarProp = that.vScrollbarMaxScroll / that.maxScrollY;
     }
     
     // Reset position
     that._scrollbarPos(dir, true);
     },
     
     _resize: function () {
     var that = this;
     setTimeout(function () { that.refresh(); }, isAndroid ? 200 : 0);
     },
     
     _pos: function (x, y) {
     x = this.hScroll ? x : 0;
     y = this.vScroll ? y : 0;
     
     if (this.options.useTransform) {
     this.scroller.style[vendor + 'Transform'] = trnOpen + x + 'px,' + y + 'px' + trnClose + ' scale(' + this.scale + ')';
     } else {
     x = mround(x);
     y = mround(y);
     this.scroller.style.left = x + 'px';
     this.scroller.style.top = y + 'px';
     }
     
     this.x = x;
     this.y = y;
     
     this._scrollbarPos('h');
     this._scrollbarPos('v');
     },
     
     _scrollbarPos: function (dir, hidden) {
     var that = this,
     pos = dir == 'h' ? that.x : that.y,
     size;
     
     if (!that[dir + 'Scrollbar']) return;
     
     pos = that[dir + 'ScrollbarProp'] * pos;
     
     if (pos < 0) {
     if (!that.options.fixedScrollbar) {
     size = that[dir + 'ScrollbarIndicatorSize'] + mround(pos * 3);
     if (size < 8) size = 8;
     that[dir + 'ScrollbarIndicator'].style[dir == 'h' ? 'width' : 'height'] = size + 'px';
     }
     pos = 0;
     } else if (pos > that[dir + 'ScrollbarMaxScroll']) {
     if (!that.options.fixedScrollbar) {
     size = that[dir + 'ScrollbarIndicatorSize'] - mround((pos - that[dir + 'ScrollbarMaxScroll']) * 3);
     if (size < 8) size = 8;
     that[dir + 'ScrollbarIndicator'].style[dir == 'h' ? 'width' : 'height'] = size + 'px';
     pos = that[dir + 'ScrollbarMaxScroll'] + (that[dir + 'ScrollbarIndicatorSize'] - size);
     } else {
     pos = that[dir + 'ScrollbarMaxScroll'];
     }
     }
     
     that[dir + 'ScrollbarWrapper'].style[vendor + 'TransitionDelay'] = '0';
     that[dir + 'ScrollbarWrapper'].style.opacity = hidden && that.options.hideScrollbar ? '0' : '1';
     that[dir + 'ScrollbarIndicator'].style[vendor + 'Transform'] = trnOpen + (dir == 'h' ? pos + 'px,0' : '0,' + pos + 'px') + trnClose;
     },
     
     _start: function (e) {
     var that = this,
     point = hasTouch ? e.touches[0] : e,
     matrix, x, y,
     c1, c2;
     
     if (!that.enabled) return;
     
     if (that.options.onBeforeScrollStart) that.options.onBeforeScrollStart.call(that, e);
     
     if (that.options.useTransition || that.options.zoom) that._transitionTime(0);
     
     that.moved = false;
     that.animating = false;
     that.zoomed = false;
     that.distX = 0;
     that.distY = 0;
     that.absDistX = 0;
     that.absDistY = 0;
     that.dirX = 0;
     that.dirY = 0;
     
     // Gesture start
     if (that.options.zoom && hasTouch && e.touches.length > 1) {
     c1 = m.abs(e.touches[0].pageX-e.touches[1].pageX);
     c2 = m.abs(e.touches[0].pageY-e.touches[1].pageY);
     that.touchesDistStart = m.sqrt(c1 * c1 + c2 * c2);
     
     that.originX = m.abs(e.touches[0].pageX + e.touches[1].pageX - that.wrapperOffsetLeft * 2) / 2 - that.x;
     that.originY = m.abs(e.touches[0].pageY + e.touches[1].pageY - that.wrapperOffsetTop * 2) / 2 - that.y;
     
     if (that.options.onZoomStart) that.options.onZoomStart.call(that, e);
     }
     
     if (that.options.momentum) {
     if (that.options.useTransform) {
     // Very lame general purpose alternative to CSSMatrix
     matrix = getComputedStyle(that.scroller, null)[vendor + 'Transform'].replace(/[^0-9-.,]/g, '').split(',');
     x = matrix[4] * 1;
     y = matrix[5] * 1;
     } else {
     x = getComputedStyle(that.scroller, null).left.replace(/[^0-9-]/g, '') * 1;
     y = getComputedStyle(that.scroller, null).top.replace(/[^0-9-]/g, '') * 1;
     }
     
     if (x != that.x || y != that.y) {
     if (that.options.useTransition) that._unbind('webkitTransitionEnd');
     else cancelFrame(that.aniTime);
     that.steps = [];
     that._pos(x, y);
     }
     }
     
     that.absStartX = that.x;	// Needed by snap threshold
     that.absStartY = that.y;
     
     that.startX = that.x;
     that.startY = that.y;
     that.pointX = point.pageX;
     that.pointY = point.pageY;
     
     that.startTime = e.timeStamp || Date.now();
     
     if (that.options.onScrollStart) that.options.onScrollStart.call(that, e);
     
     that._bind(MOVE_EV);
     that._bind(END_EV);
     that._bind(CANCEL_EV);
     },
     
     _move: function (e) {
     var that = this,
     point = hasTouch ? e.touches[0] : e,
     deltaX = point.pageX - that.pointX,
     deltaY = point.pageY - that.pointY,
     newX = that.x + deltaX,
     newY = that.y + deltaY,
     c1, c2, scale,
     timestamp = e.timeStamp || Date.now();
     
     if (that.options.onBeforeScrollMove) that.options.onBeforeScrollMove.call(that, e);
     
     // Zoom
     if (that.options.zoom && hasTouch && e.touches.length > 1) {
     c1 = m.abs(e.touches[0].pageX - e.touches[1].pageX);
     c2 = m.abs(e.touches[0].pageY - e.touches[1].pageY);
     that.touchesDist = m.sqrt(c1*c1+c2*c2);
     
     that.zoomed = true;
     
     scale = 1 / that.touchesDistStart * that.touchesDist * this.scale;
     
     if (scale < that.options.zoomMin) scale = 0.5 * that.options.zoomMin * Math.pow(2.0, scale / that.options.zoomMin);
     else if (scale > that.options.zoomMax) scale = 2.0 * that.options.zoomMax * Math.pow(0.5, that.options.zoomMax / scale);
     
     that.lastScale = scale / this.scale;
     
     newX = this.originX - this.originX * that.lastScale + this.x,
     newY = this.originY - this.originY * that.lastScale + this.y;
     
     this.scroller.style[vendor + 'Transform'] = trnOpen + newX + 'px,' + newY + 'px' + trnClose + ' scale(' + scale + ')';
     
     if (that.options.onZoom) that.options.onZoom.call(that, e);
     return;
     }
     
     that.pointX = point.pageX;
     that.pointY = point.pageY;
     
     // Slow down if outside of the boundaries
     if (newX > 0 || newX < that.maxScrollX) {
     newX = that.options.bounce ? that.x + (deltaX / 2) : newX >= 0 || that.maxScrollX >= 0 ? 0 : that.maxScrollX;
     }
     if (newY > that.minScrollY || newY < that.maxScrollY) {
     newY = that.options.bounce ? that.y + (deltaY / 2) : newY >= that.minScrollY || that.maxScrollY >= 0 ? that.minScrollY : that.maxScrollY;
     }
     
     that.distX += deltaX;
     that.distY += deltaY;
     that.absDistX = m.abs(that.distX);
     that.absDistY = m.abs(that.distY);
     
     if (that.absDistX < 6 && that.absDistY < 6) {
     return;
     }
     
     // Lock direction
     if (that.options.lockDirection) {
     if (that.absDistX > that.absDistY + 5) {
     newY = that.y;
     deltaY = 0;
     } else if (that.absDistY > that.absDistX + 5) {
     newX = that.x;
     deltaX = 0;
     }
     }
     
     that.moved = true;
     that._pos(newX, newY);
     that.dirX = deltaX > 0 ? -1 : deltaX < 0 ? 1 : 0;
     that.dirY = deltaY > 0 ? -1 : deltaY < 0 ? 1 : 0;
     
     if (timestamp - that.startTime > 300) {
     that.startTime = timestamp;
     that.startX = that.x;
     that.startY = that.y;
     }
     
     if (that.options.onScrollMove) that.options.onScrollMove.call(that, e);
     },
     
     _end: function (e) {
     if (hasTouch && e.touches.length != 0) return;
     
     var that = this,
     point = hasTouch ? e.changedTouches[0] : e,
     target, ev,
     momentumX = { dist:0, time:0 },
     momentumY = { dist:0, time:0 },
     duration = (e.timeStamp || Date.now()) - that.startTime,
     newPosX = that.x,
     newPosY = that.y,
     distX, distY,
     newDuration,
     snap,
     scale;
     
     that._unbind(MOVE_EV);
     that._unbind(END_EV);
     that._unbind(CANCEL_EV);
     
     if (that.options.onBeforeScrollEnd) that.options.onBeforeScrollEnd.call(that, e);
     
     if (that.zoomed) {
     scale = that.scale * that.lastScale;
     scale = Math.max(that.options.zoomMin, scale);
     scale = Math.min(that.options.zoomMax, scale);
     that.lastScale = scale / that.scale;
     that.scale = scale;
     
     that.x = that.originX - that.originX * that.lastScale + that.x;
     that.y = that.originY - that.originY * that.lastScale + that.y;
     
     that.scroller.style[vendor + 'TransitionDuration'] = '200ms';
     that.scroller.style[vendor + 'Transform'] = trnOpen + that.x + 'px,' + that.y + 'px' + trnClose + ' scale(' + that.scale + ')';
     
     that.zoomed = false;
     that.refresh();
     
     if (that.options.onZoomEnd) that.options.onZoomEnd.call(that, e);
     return;
     }
     
     if (!that.moved) {
     if (hasTouch) {
     if (that.doubleTapTimer && that.options.zoom) {
     // Double tapped
     clearTimeout(that.doubleTapTimer);
     that.doubleTapTimer = null;
     if (that.options.onZoomStart) that.options.onZoomStart.call(that, e);
     that.zoom(that.pointX, that.pointY, that.scale == 1 ? that.options.doubleTapZoom : 1);
     if (that.options.onZoomEnd) {
     setTimeout(function() {
                that.options.onZoomEnd.call(that, e);
                }, 200); // 200 is default zoom duration
     }
     } else {
     that.doubleTapTimer = setTimeout(function () {
                                      that.doubleTapTimer = null;
                                      
                                      // Find the last touched element
                                      target = point.target;
                                      while (target.nodeType != 1) target = target.parentNode;
                                      
                                      if (target.tagName != 'SELECT' && target.tagName != 'INPUT' && target.tagName != 'TEXTAREA') {
                                      ev = document.createEvent('MouseEvents');
                                      ev.initMouseEvent('click', true, true, e.view, 1,
                                                        point.screenX, point.screenY, point.clientX, point.clientY,
                                                        e.ctrlKey, e.altKey, e.shiftKey, e.metaKey,
                                                        0, null);
                                      ev._fake = true;
                                      target.dispatchEvent(ev);
                                      }
                                      }, that.options.zoom ? 250 : 0);
     }
     }
     
     that._resetPos(200);
     
     if (that.options.onTouchEnd) that.options.onTouchEnd.call(that, e);
     return;
     }
     
     if (duration < 300 && that.options.momentum) {
     momentumX = newPosX ? that._momentum(newPosX - that.startX, duration, -that.x, that.scrollerW - that.wrapperW + that.x, that.options.bounce ? that.wrapperW : 0) : momentumX;
     momentumY = newPosY ? that._momentum(newPosY - that.startY, duration, -that.y, (that.maxScrollY < 0 ? that.scrollerH - that.wrapperH + that.y - that.minScrollY : 0), that.options.bounce ? that.wrapperH : 0) : momentumY;
     
     newPosX = that.x + momentumX.dist;
     newPosY = that.y + momentumY.dist;
     
     if ((that.x > 0 && newPosX > 0) || (that.x < that.maxScrollX && newPosX < that.maxScrollX)) momentumX = { dist:0, time:0 };
     if ((that.y > that.minScrollY && newPosY > that.minScrollY) || (that.y < that.maxScrollY && newPosY < that.maxScrollY)) momentumY = { dist:0, time:0 };
     }
     
     if (momentumX.dist || momentumY.dist) {
     newDuration = m.max(m.max(momentumX.time, momentumY.time), 10);
     
     // Do we need to snap?
     if (that.options.snap) {
     distX = newPosX - that.absStartX;
     distY = newPosY - that.absStartY;
     if (m.abs(distX) < that.options.snapThreshold && m.abs(distY) < that.options.snapThreshold) { that.scrollTo(that.absStartX, that.absStartY, 200); }
     else {
     snap = that._snap(newPosX, newPosY);
     newPosX = snap.x;
     newPosY = snap.y;
     newDuration = m.max(snap.time, newDuration);
     }
     }
     
     that.scrollTo(mround(newPosX), mround(newPosY), newDuration);
     
     if (that.options.onTouchEnd) that.options.onTouchEnd.call(that, e);
     return;
     }
     
     // Do we need to snap?
     if (that.options.snap) {
     distX = newPosX - that.absStartX;
     distY = newPosY - that.absStartY;
     if (m.abs(distX) < that.options.snapThreshold && m.abs(distY) < that.options.snapThreshold) that.scrollTo(that.absStartX, that.absStartY, 200);
     else {
     snap = that._snap(that.x, that.y);
     if (snap.x != that.x || snap.y != that.y) that.scrollTo(snap.x, snap.y, snap.time);
     }
     
     if (that.options.onTouchEnd) that.options.onTouchEnd.call(that, e);
     return;
     }
     
     that._resetPos(200);
     if (that.options.onTouchEnd) that.options.onTouchEnd.call(that, e);
     },
     
     _resetPos: function (time) {
     var that = this,
     resetX = that.x >= 0 ? 0 : that.x < that.maxScrollX ? that.maxScrollX : that.x,
     resetY = that.y >= that.minScrollY || that.maxScrollY > 0 ? that.minScrollY : that.y < that.maxScrollY ? that.maxScrollY : that.y;
     
     if (resetX == that.x && resetY == that.y) {
     if (that.moved) {
     that.moved = false;
     if (that.options.onScrollEnd) that.options.onScrollEnd.call(that);		// Execute custom code on scroll end
     }
     
     if (that.hScrollbar && that.options.hideScrollbar) {
     if (vendor == 'webkit') that.hScrollbarWrapper.style[vendor + 'TransitionDelay'] = '300ms';
     that.hScrollbarWrapper.style.opacity = '0';
     }
     if (that.vScrollbar && that.options.hideScrollbar) {
     if (vendor == 'webkit') that.vScrollbarWrapper.style[vendor + 'TransitionDelay'] = '300ms';
     that.vScrollbarWrapper.style.opacity = '0';
     }
     
     return;
     }
     
     that.scrollTo(resetX, resetY, time || 0);
     },
     
     _wheel: function (e) {
     var that = this,
     wheelDeltaX, wheelDeltaY,
     deltaX, deltaY,
     deltaScale;
     
     if ('wheelDeltaX' in e) {
     wheelDeltaX = e.wheelDeltaX / 12;
     wheelDeltaY = e.wheelDeltaY / 12;
     } else if('wheelDelta' in e) {
     wheelDeltaX = wheelDeltaY = e.wheelDelta / 12;
     } else if ('detail' in e) {
     wheelDeltaX = wheelDeltaY = -e.detail * 3;
     } else {
     return;
     }
     
     if (that.options.wheelAction == 'zoom') {
     deltaScale = that.scale * Math.pow(2, 1/3 * (wheelDeltaY ? wheelDeltaY / Math.abs(wheelDeltaY) : 0));
     if (deltaScale < that.options.zoomMin) deltaScale = that.options.zoomMin;
     if (deltaScale > that.options.zoomMax) deltaScale = that.options.zoomMax;
     
     if (deltaScale != that.scale) {
     if (!that.wheelZoomCount && that.options.onZoomStart) that.options.onZoomStart.call(that, e);
     that.wheelZoomCount++;
     
     that.zoom(e.pageX, e.pageY, deltaScale, 400);
     
     setTimeout(function() {
                that.wheelZoomCount--;
                if (!that.wheelZoomCount && that.options.onZoomEnd) that.options.onZoomEnd.call(that, e);
				}, 400);
     }
     
     return;
     }
     
     deltaX = that.x + wheelDeltaX;
     deltaY = that.y + wheelDeltaY;
     
     if (deltaX > 0) deltaX = 0;
     else if (deltaX < that.maxScrollX) deltaX = that.maxScrollX;
     
     if (deltaY > that.minScrollY) deltaY = that.minScrollY;
     else if (deltaY < that.maxScrollY) deltaY = that.maxScrollY;
     
     that.scrollTo(deltaX, deltaY, 0);
     },
     
     _mouseout: function (e) {
     var t = e.relatedTarget;
     
     if (!t) {
     this._end(e);
     return;
     }
     
     while (t = t.parentNode) if (t == this.wrapper) return;
     
     this._end(e);
     },
     
     _transitionEnd: function (e) {
     var that = this;
     
     if (e.target != that.scroller) return;
     
     that._unbind('webkitTransitionEnd');
     
     that._startAni();
     },
     
     
     /**
      *
      * Utilities
      *
      */
     _startAni: function () {
     var that = this,
     startX = that.x, startY = that.y,
     startTime = Date.now(),
     step, easeOut,
     animate;
     
     if (that.animating) return;
     
     if (!that.steps.length) {
     that._resetPos(400);
     return;
     }
     
     step = that.steps.shift();
     
     if (step.x == startX && step.y == startY) step.time = 0;
     
     that.animating = true;
     that.moved = true;
     
     if (that.options.useTransition) {
     that._transitionTime(step.time);
     that._pos(step.x, step.y);
     that.animating = false;
     if (step.time) that._bind('webkitTransitionEnd');
     else that._resetPos(0);
     return;
     }
     
     animate = function () {
     var now = Date.now(),
     newX, newY;
     
     if (now >= startTime + step.time) {
     that._pos(step.x, step.y);
     that.animating = false;
     if (that.options.onAnimationEnd) that.options.onAnimationEnd.call(that);			// Execute custom code on animation end
     that._startAni();
     return;
     }
     
     now = (now - startTime) / step.time - 1;
     easeOut = m.sqrt(1 - now * now);
     newX = (step.x - startX) * easeOut + startX;
     newY = (step.y - startY) * easeOut + startY;
     that._pos(newX, newY);
     if (that.animating) that.aniTime = nextFrame(animate);
     };
     
     animate();
     },
     
     _transitionTime: function (time) {
     time += 'ms';
     this.scroller.style[vendor + 'TransitionDuration'] = time;
     if (this.hScrollbar) this.hScrollbarIndicator.style[vendor + 'TransitionDuration'] = time;
     if (this.vScrollbar) this.vScrollbarIndicator.style[vendor + 'TransitionDuration'] = time;
     },
     
     _momentum: function (dist, time, maxDistUpper, maxDistLower, size) {
     var deceleration = 0.0006,
     speed = m.abs(dist) / time,
     newDist = (speed * speed) / (2 * deceleration),
     newTime = 0, outsideDist = 0;
     
     // Proportinally reduce speed if we are outside of the boundaries
     if (dist > 0 && newDist > maxDistUpper) {
     outsideDist = size / (6 / (newDist / speed * deceleration));
     maxDistUpper = maxDistUpper + outsideDist;
     speed = speed * maxDistUpper / newDist;
     newDist = maxDistUpper;
     } else if (dist < 0 && newDist > maxDistLower) {
     outsideDist = size / (6 / (newDist / speed * deceleration));
     maxDistLower = maxDistLower + outsideDist;
     speed = speed * maxDistLower / newDist;
     newDist = maxDistLower;
     }
     
     newDist = newDist * (dist < 0 ? -1 : 1);
     newTime = speed / deceleration;
     
     return { dist: newDist, time: mround(newTime) };
     },
     
     _offset: function (el) {
     var left = -el.offsetLeft,
     top = -el.offsetTop;
     
     while (el = el.offsetParent) {
     left -= el.offsetLeft;
     top -= el.offsetTop;
     }
     
     if (el != this.wrapper) {
     left *= this.scale;
     top *= this.scale;
     }
     
     return { left: left, top: top };
     },
     
     _snap: function (x, y) {
     var that = this,
     i, l,
     page, time,
     sizeX, sizeY;
     
     // Check page X
     page = that.pagesX.length - 1;
     for (i=0, l=that.pagesX.length; i<l; i++) {
     if (x >= that.pagesX[i]) {
     page = i;
     break;
     }
     }
     if (page == that.currPageX && page > 0 && that.dirX < 0) page--;
     x = that.pagesX[page];
     sizeX = m.abs(x - that.pagesX[that.currPageX]);
     sizeX = sizeX ? m.abs(that.x - x) / sizeX * 500 : 0;
     that.currPageX = page;
     
     // Check page Y
     page = that.pagesY.length-1;
     for (i=0; i<page; i++) {
     if (y >= that.pagesY[i]) {
     page = i;
     break;
     }
     }
     if (page == that.currPageY && page > 0 && that.dirY < 0) page--;
     y = that.pagesY[page];
     sizeY = m.abs(y - that.pagesY[that.currPageY]);
     sizeY = sizeY ? m.abs(that.y - y) / sizeY * 500 : 0;
     that.currPageY = page;
     
     // Snap with constant speed (proportional duration)
     time = mround(m.max(sizeX, sizeY)) || 200;
     
     return { x: x, y: y, time: time };
     },
     
     _bind: function (type, el, bubble) {
     (el || this.scroller).addEventListener(type, this, !!bubble);
     },
     
     _unbind: function (type, el, bubble) {
     (el || this.scroller).removeEventListener(type, this, !!bubble);
     },
     
     
     /**
      *
      * Public methods
      *
      */
     destroy: function () {
     var that = this;
     
     that.scroller.style[vendor + 'Transform'] = '';
     
     // Remove the scrollbars
     that.hScrollbar = false;
     that.vScrollbar = false;
     that._scrollbar('h');
     that._scrollbar('v');
     
     // Remove the event listeners
     that._unbind(RESIZE_EV, window);
     that._unbind(START_EV);
     that._unbind(MOVE_EV);
     that._unbind(END_EV);
     that._unbind(CANCEL_EV);
     
     if (!that.options.hasTouch) {
     that._unbind('mouseout', that.wrapper);
     that._unbind(WHEEL_EV);
     }
     
     if (that.options.useTransition) that._unbind('webkitTransitionEnd');
     
     if (that.options.checkDOMChanges) clearInterval(that.checkDOMTime);
     
     if (that.options.onDestroy) that.options.onDestroy.call(that);
     },
     
     refresh: function () {
     var that = this,
     offset,
     i, l,
     els,
     pos = 0,
     page = 0;
     
     if (that.scale < that.options.zoomMin) that.scale = that.options.zoomMin;
     that.wrapperW = that.wrapper.clientWidth || 1;
     that.wrapperH = that.wrapper.clientHeight || 1;
     
     that.minScrollY = -that.options.topOffset || 0;
     that.scrollerW = mround(that.scroller.offsetWidth * that.scale);
     that.scrollerH = mround((that.scroller.offsetHeight + that.minScrollY) * that.scale);
     that.maxScrollX = that.wrapperW - that.scrollerW;
     that.maxScrollY = that.wrapperH - that.scrollerH + that.minScrollY;
     that.dirX = 0;
     that.dirY = 0;
     
     if (that.options.onRefresh) that.options.onRefresh.call(that);
     
     that.hScroll = that.options.hScroll && that.maxScrollX < 0;
     that.vScroll = that.options.vScroll && (!that.options.bounceLock && !that.hScroll || that.scrollerH > that.wrapperH);
     
     that.hScrollbar = that.hScroll && that.options.hScrollbar;
     that.vScrollbar = that.vScroll && that.options.vScrollbar && that.scrollerH > that.wrapperH;
     
     offset = that._offset(that.wrapper);
     that.wrapperOffsetLeft = -offset.left;
     that.wrapperOffsetTop = -offset.top;
     
     // Prepare snap
     if (typeof that.options.snap == 'string') {
     that.pagesX = [];
     that.pagesY = [];
     els = that.scroller.querySelectorAll(that.options.snap);
     for (i=0, l=els.length; i<l; i++) {
     pos = that._offset(els[i]);
     pos.left += that.wrapperOffsetLeft;
     pos.top += that.wrapperOffsetTop;
     that.pagesX[i] = pos.left < that.maxScrollX ? that.maxScrollX : pos.left * that.scale;
     that.pagesY[i] = pos.top < that.maxScrollY ? that.maxScrollY : pos.top * that.scale;
     }
     } else if (that.options.snap) {
     that.pagesX = [];
     while (pos >= that.maxScrollX) {
     that.pagesX[page] = pos;
     pos = pos - that.wrapperW;
     page++;
     }
     if (that.maxScrollX%that.wrapperW) that.pagesX[that.pagesX.length] = that.maxScrollX - that.pagesX[that.pagesX.length-1] + that.pagesX[that.pagesX.length-1];
     
     pos = 0;
     page = 0;
     that.pagesY = [];
     while (pos >= that.maxScrollY) {
     that.pagesY[page] = pos;
     pos = pos - that.wrapperH;
     page++;
     }
     if (that.maxScrollY%that.wrapperH) that.pagesY[that.pagesY.length] = that.maxScrollY - that.pagesY[that.pagesY.length-1] + that.pagesY[that.pagesY.length-1];
     }
     
     // Prepare the scrollbars
     that._scrollbar('h');
     that._scrollbar('v');
     
     if (!that.zoomed) {
     that.scroller.style[vendor + 'TransitionDuration'] = '0';
     that._resetPos(200);
     }
     },
     
     scrollTo: function (x, y, time, relative) {
     var that = this,
     step = x,
     i, l;
     
     that.stop();
     
     if (!step.length) step = [{ x: x, y: y, time: time, relative: relative }];
     
     for (i=0, l=step.length; i<l; i++) {
     if (step[i].relative) { step[i].x = that.x - step[i].x; step[i].y = that.y - step[i].y; }
     that.steps.push({ x: step[i].x, y: step[i].y, time: step[i].time || 0 });
     }
     
     that._startAni();
     },
     
     scrollToElement: function (el, time) {
     var that = this, pos;
     el = el.nodeType ? el : that.scroller.querySelector(el);
     if (!el) return;
     
     pos = that._offset(el);
     pos.left += that.wrapperOffsetLeft;
     pos.top += that.wrapperOffsetTop;
     
     pos.left = pos.left > 0 ? 0 : pos.left < that.maxScrollX ? that.maxScrollX : pos.left;
     pos.top = pos.top > that.minScrollY ? that.minScrollY : pos.top < that.maxScrollY ? that.maxScrollY : pos.top;
     time = time === undefined ? m.max(m.abs(pos.left)*2, m.abs(pos.top)*2) : time;
     
     that.scrollTo(pos.left, pos.top, time);
     },
     
     scrollToPage: function (pageX, pageY, time) {
     var that = this, x, y;
     
     time = time === undefined ? 400 : time;
     
     if (that.options.onScrollStart) that.options.onScrollStart.call(that);
     
     if (that.options.snap) {
     pageX = pageX == 'next' ? that.currPageX+1 : pageX == 'prev' ? that.currPageX-1 : pageX;
     pageY = pageY == 'next' ? that.currPageY+1 : pageY == 'prev' ? that.currPageY-1 : pageY;
     
     pageX = pageX < 0 ? 0 : pageX > that.pagesX.length-1 ? that.pagesX.length-1 : pageX;
     pageY = pageY < 0 ? 0 : pageY > that.pagesY.length-1 ? that.pagesY.length-1 : pageY;
     
     that.currPageX = pageX;
     that.currPageY = pageY;
     x = that.pagesX[pageX];
     y = that.pagesY[pageY];
     } else {
     x = -that.wrapperW * pageX;
     y = -that.wrapperH * pageY;
     if (x < that.maxScrollX) x = that.maxScrollX;
     if (y < that.maxScrollY) y = that.maxScrollY;
     }
     
     that.scrollTo(x, y, time);
     },
     
     disable: function () {
     this.stop();
     this._resetPos(0);
     this.enabled = false;
     
     // If disabled after touchstart we make sure that there are no left over events
     this._unbind(MOVE_EV);
     this._unbind(END_EV);
     this._unbind(CANCEL_EV);
     },
     
     enable: function () {
     this.enabled = true;
     },
     
     stop: function () {
     if (this.options.useTransition) this._unbind('webkitTransitionEnd');
     else cancelFrame(this.aniTime);
     this.steps = [];
     this.moved = false;
     this.animating = false;
     },
     
     zoom: function (x, y, scale, time) {
     var that = this,
     relScale = scale / that.scale;
     
     if (!that.options.useTransform) return;
     
     that.zoomed = true;
     time = time === undefined ? 200 : time;
     x = x - that.wrapperOffsetLeft - that.x;
     y = y - that.wrapperOffsetTop - that.y;
     that.x = x - x * relScale + that.x;
     that.y = y - y * relScale + that.y;
     
     that.scale = scale;
     that.refresh();
     
     that.x = that.x > 0 ? 0 : that.x < that.maxScrollX ? that.maxScrollX : that.x;
     that.y = that.y > that.minScrollY ? that.minScrollY : that.y < that.maxScrollY ? that.maxScrollY : that.y;
     
     that.scroller.style[vendor + 'TransitionDuration'] = time + 'ms';
     that.scroller.style[vendor + 'Transform'] = trnOpen + that.x + 'px,' + that.y + 'px' + trnClose + ' scale(' + scale + ')';
     that.zoomed = false;
     },
     
     isReady: function () {
     return !this.moved && !this.zoomed && !this.animating;
     }
     };
     
     if (typeof exports !== 'undefined') exports.iScroll = iScroll;
     else window.iScroll = iScroll;
     
     })();

    </script>

</body>
</html>
